#pragma once
#include <level/gen/ChunkSource.hpp>
#include <level/gen/feature/LargeCaveFeature.hpp>
#include <map>
#include <util/PerlinNoise.hpp>
/*
 * TODO:
RandomLevelSource::SNOW_SCALE
_ZN17RandomLevelSource10SNOW_SCALEE DCD 0x3E99999A
EXPORT _ZN17RandomLevelSource11SNOW_CUTOFFE
; RandomLevelSource::SNOW_CUTOFF
_ZN17RandomLevelSource11SNOW_CUTOFFE DCD 0x3F000000
*/
struct RandomLevelSource : ChunkSource{
	int8_t field_4, field_5, field_6, field_7;
	LargeCaveFeature caveGenerator;
	float field_9E0[1024];
	std::map<int32_t, struct LevelChunk*> field_19E0;
	Random random;
	PerlinNoise octave16noise_1;
	PerlinNoise octave16noise_2;
	PerlinNoise octave8noise_1;
	PerlinNoise octave4noise_1;
	PerlinNoise octave4noise_2;
	PerlinNoise octave10noise_1;
	PerlinNoise octave16noise_3;
	PerlinNoise treeNoise;
	struct Level* level;
	int8_t field_72CC, field_72CD, field_72CE, field_72CF;
	float* field_72D0;
	float field_72D4[256];
	float field_76D4[256];
	float field_7AD4[256];
	float* interpolationNoises;
	float* upperInterpolationNoises;
	float* lowerInterpolationNoises;
	float* biomeNoises;
	float* depthNoises;
	int* field_7EE8; //TODO type
	int* field_7EEC; //TODO type
	int32_t field_7EF0;
	int32_t field_7EF4;
	int32_t field_7EF8;
	int32_t field_7EFC;
	int32_t field_7F00;
	int32_t field_7F04;
	int32_t field_7F08;
	int32_t field_7F0C;
	int32_t field_7F10;
	int32_t field_7F14;
	int32_t field_7F18;
	int32_t field_7F1C;
	int32_t field_7F20;
	int32_t field_7F24;
	int32_t field_7F28;
	int32_t field_7F2C;
	int32_t field_7F30;
	int32_t field_7F34;
	int32_t field_7F38;
	int32_t field_7F3C;
	int32_t field_7F40;
	int32_t field_7F44;
	int32_t field_7F48;
	int32_t field_7F4C;
	int32_t field_7F50;
	int32_t field_7F54;
	int32_t field_7F58;
	int32_t field_7F5C;
	int32_t field_7F60;
	int32_t field_7F64;
	int32_t field_7F68;
	int32_t field_7F6C;
	int32_t field_7F70;
	int32_t field_7F74;
	int32_t field_7F78;
	int32_t field_7F7C;
	int32_t field_7F80;
	int32_t field_7F84;
	int32_t field_7F88;
	int32_t field_7F8C;
	int32_t field_7F90;
	int32_t field_7F94;
	int32_t field_7F98;
	int32_t field_7F9C;
	int32_t field_7FA0;
	int32_t field_7FA4;
	int32_t field_7FA8;
	int32_t field_7FAC;
	int32_t field_7FB0;
	int32_t field_7FB4;
	int32_t field_7FB8;
	int32_t field_7FBC;
	int32_t field_7FC0;
	int32_t field_7FC4;
	int32_t field_7FC8;
	int32_t field_7FCC;
	int32_t field_7FD0;
	int32_t field_7FD4;
	int32_t field_7FD8;
	int32_t field_7FDC;
	int32_t field_7FE0;
	int32_t field_7FE4;
	int32_t field_7FE8;
	int32_t field_7FEC;
	int32_t field_7FF0;
	int32_t field_7FF4;
	int32_t field_7FF8;
	int32_t field_7FFC;
	int32_t field_8000;
	int32_t field_8004;
	int32_t field_8008;
	int32_t field_800C;
	int32_t field_8010;
	int32_t field_8014;
	int32_t field_8018;
	int32_t field_801C;
	int32_t field_8020;
	int32_t field_8024;
	int32_t field_8028;
	int32_t field_802C;
	int32_t field_8030;
	int32_t field_8034;
	int32_t field_8038;
	int32_t field_803C;
	int32_t field_8040;
	int32_t field_8044;
	int32_t field_8048;
	int32_t field_804C;
	int32_t field_8050;
	int32_t field_8054;
	int32_t field_8058;
	int32_t field_805C;
	int32_t field_8060;
	int32_t field_8064;
	int32_t field_8068;
	int32_t field_806C;
	int32_t field_8070;
	int32_t field_8074;
	int32_t field_8078;
	int32_t field_807C;
	int32_t field_8080;
	int32_t field_8084;
	int32_t field_8088;
	int32_t field_808C;
	int32_t field_8090;
	int32_t field_8094;
	int32_t field_8098;
	int32_t field_809C;
	int32_t field_80A0;
	int32_t field_80A4;
	int32_t field_80A8;
	int32_t field_80AC;
	int32_t field_80B0;
	int32_t field_80B4;
	int32_t field_80B8;
	int32_t field_80BC;
	int32_t field_80C0;
	int32_t field_80C4;
	int32_t field_80C8;
	int32_t field_80CC;
	int32_t field_80D0;
	int32_t field_80D4;
	int32_t field_80D8;
	int32_t field_80DC;
	int32_t field_80E0;
	int32_t field_80E4;
	int32_t field_80E8;
	int32_t field_80EC;
	int32_t field_80F0;
	int32_t field_80F4;
	int32_t field_80F8;
	int32_t field_80FC;
	int32_t field_8100;
	int32_t field_8104;
	int32_t field_8108;
	int32_t field_810C;
	int32_t field_8110;
	int32_t field_8114;
	int32_t field_8118;
	int32_t field_811C;
	int32_t field_8120;
	int32_t field_8124;
	int32_t field_8128;
	int32_t field_812C;
	int32_t field_8130;
	int32_t field_8134;
	int32_t field_8138;
	int32_t field_813C;
	int32_t field_8140;
	int32_t field_8144;
	int32_t field_8148;
	int32_t field_814C;
	int32_t field_8150;
	int32_t field_8154;
	int32_t field_8158;
	int32_t field_815C;
	int32_t field_8160;
	int32_t field_8164;
	int32_t field_8168;
	int32_t field_816C;
	int32_t field_8170;
	int32_t field_8174;
	int32_t field_8178;
	int32_t field_817C;
	int32_t field_8180;
	int32_t field_8184;
	int32_t field_8188;
	int32_t field_818C;
	int32_t field_8190;
	int32_t field_8194;
	int32_t field_8198;
	int32_t field_819C;
	int32_t field_81A0;
	int32_t field_81A4;
	int32_t field_81A8;
	int32_t field_81AC;
	int32_t field_81B0;
	int32_t field_81B4;
	int32_t field_81B8;
	int32_t field_81BC;
	int32_t field_81C0;
	int32_t field_81C4;
	int32_t field_81C8;
	int32_t field_81CC;
	int32_t field_81D0;
	int32_t field_81D4;
	int32_t field_81D8;
	int32_t field_81DC;
	int32_t field_81E0;
	int32_t field_81E4;
	int32_t field_81E8;
	int32_t field_81EC;
	int32_t field_81F0;
	int32_t field_81F4;
	int32_t field_81F8;
	int32_t field_81FC;
	int32_t field_8200;
	int32_t field_8204;
	int32_t field_8208;
	int32_t field_820C;
	int32_t field_8210;
	int32_t field_8214;
	int32_t field_8218;
	int32_t field_821C;
	int32_t field_8220;
	int32_t field_8224;
	int32_t field_8228;
	int32_t field_822C;
	int32_t field_8230;
	int32_t field_8234;
	int32_t field_8238;
	int32_t field_823C;
	int32_t field_8240;
	int32_t field_8244;
	int32_t field_8248;
	int32_t field_824C;
	int32_t field_8250;
	int32_t field_8254;
	int32_t field_8258;
	int32_t field_825C;
	int32_t field_8260;
	int32_t field_8264;
	int32_t field_8268;
	int32_t field_826C;
	int32_t field_8270;
	int32_t field_8274;
	int32_t field_8278;
	int32_t field_827C;
	int32_t field_8280;
	int32_t field_8284;
	int32_t field_8288;
	int32_t field_828C;
	int32_t field_8290;
	int32_t field_8294;
	int32_t field_8298;
	int32_t field_829C;
	int32_t field_82A0;
	int32_t field_82A4;
	int32_t field_82A8;
	int32_t field_82AC;
	int32_t field_82B0;
	int32_t field_82B4;
	int32_t field_82B8;
	int32_t field_82BC;
	int32_t field_82C0;
	int32_t field_82C4;
	int32_t field_82C8;
	int32_t field_82CC;

	RandomLevelSource(struct Level*, int32_t, int32_t, bool_t); //long, int, bool
	void buildSurfaces(int32_t, int32_t, uint8_t*, struct Biome**);
	void calcWaterDepths(struct ChunkSource*, int32_t, int32_t);
	float* getHeights(float*, int32_t, int32_t, int32_t, int32_t, int32_t, int32_t);
	void prepareHeights(int32_t, int32_t, uint8_t*, void*, float*);



	virtual ~RandomLevelSource();
	virtual bool_t hasChunk(int32_t, int32_t);
	virtual struct LevelChunk* getChunk(int32_t, int32_t);
	virtual struct LevelChunk* create(int32_t, int32_t);
	virtual void postProcess(struct ChunkSource*, int32_t, int32_t);
	virtual bool_t tick();
	virtual bool_t shouldSave();
	virtual std::vector<Biome::MobSpawnerData> getMobsAt(const struct MobCategory&, int32_t, int32_t, int32_t);
	virtual std::string gatherStats();
};
